<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>XRP to remote Gnome on Redhat Enterprise Linux 9 - Nathan Obert</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="XRP to remote Gnome on Redhat Enterprise Linux 9">
		<meta property="og:title" content="XRP to remote Gnome on Redhat Enterprise Linux 9" />
<meta property="og:description" content="XRP to remote Gnome on Redhat Enterprise Linux 9" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.nathanobert.com/posts/blog-xrdp-gnome-on-rhel9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-01T14:28:10-07:00" />
<meta property="article:modified_time" content="2023-05-01T14:28:10-07:00" />

		<meta itemprop="name" content="XRP to remote Gnome on Redhat Enterprise Linux 9">
<meta itemprop="description" content="XRP to remote Gnome on Redhat Enterprise Linux 9"><meta itemprop="datePublished" content="2023-05-01T14:28:10-07:00" />
<meta itemprop="dateModified" content="2023-05-01T14:28:10-07:00" />
<meta itemprop="wordCount" content="255">
<meta itemprop="keywords" content="XRDP,RHEL 9,GNOME," />
		<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="XRP to remote Gnome on Redhat Enterprise Linux 9"/>
<meta name="twitter:description" content="XRP to remote Gnome on Redhat Enterprise Linux 9"/>

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo logo--mixed">
		<a class="logo__link" href="/" title="Nathan Obert" rel="home">
			<div class="logo__item logo__imagebox">
					<img class="logo__img" src="/img/nathan.jpg">
				</div><div class="logo__item logo__text">
					<div class="logo__title">Nathan Obert</div>
					
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/">
				
				<span class="menu__text">Home</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/blog/">
				
				<span class="menu__text">Blog</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/cheatsheets/">
				
				<span class="menu__text">Cheatsheets</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/tags/">
				
				<span class="menu__text">Tags</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/posts/about/">
				
				<span class="menu__text">About</span>
				
			</a>
		</li>
	</ul>
</nav>


	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">XRP to remote Gnome on Redhat Enterprise Linux 9</h1>
			<p class="post__lead">Installation of XRP and Gnome</p>
			<div class="post__meta meta"><div class="meta__item-author meta__item">
	<svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 12 16"><path d="M6 1c2.2 0 3.5 2 3.5 4.5C9.5 7 8.9 8.2 8 9c2.9.8 4 2.5 4 5v1H0v-1c0-2.5 1.1-4.2 4-5-.9-.8-1.5-2-1.5-3.5C2.5 3 3.8 1 6 1z"/></svg><span class="meta__text">Nathan Obert</span>
</div>
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2023-05-01T14:28:10-07:00">2023-05-01</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/blog/" rel="category">Blog</a>
	</span>
</div>
<div class="post__tags tags clearfix">
        <svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
        <ul class="tags__list">
                <li class="tags__item">
                        <a class="tags__link btn" href="/tags/xrdp/" rel="tag">XRDP</a>
                </li>
                <li class="tags__item">
                        <a class="tags__link btn" href="/tags/rhel-9/" rel="tag">RHEL 9</a>
                </li>
                <li class="tags__item">
                        <a class="tags__link btn" href="/tags/gnome/" rel="tag">GNOME</a>
                </li>
        </ul>
</div>
</div>
		</header>
		
	<figure class="post__thumbnail thumbnail">
		
		<img class="thumbnail__image" src="/img/rhel9_xrdp_0.jpg" alt="XRP to remote Gnome on Redhat Enterprise Linux 9">
		
	</figure><div class="content post__content clearfix">
			<h1 id="introduction">Introduction</h1>
<p>We will be turning a Command Line Interface (CLI) Redhat 9 server hosted at Amazon on EC2 into a full Xwindows based workstation that you can use Remote Desktop Protocal (RDP) to using xRDP.</p>
<h1 id="installation">Installation</h1>
<p>Install the updates on your fresh server from Amazon.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo dnf update -y
</span></span></code></pre></div><p>Install &ldquo;Extra Packages for Enterprise Linux&rdquo; (EPEL).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo dnf install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm 
</span></span><span style="display:flex;"><span>sudo dnf repolist
</span></span><span style="display:flex;"><span>sudo dnf makecache
</span></span></code></pre></div><p>Install &ldquo;Workstation&rdquo; or &ldquo;Server with GUI&rdquo; (not both)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo dnf -y group install Workstation
</span></span></code></pre></div><p>Install XRDP</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo dnf install -y tigervnc-server xrdp
</span></span><span style="display:flex;"><span>sudo systemctl enable xrdp.service
</span></span><span style="display:flex;"><span>sudo systemctl start xrdp.service
</span></span><span style="display:flex;"><span>sudo systemctl status xrdp.service
</span></span><span style="display:flex;"><span>sudo netstat -antp | grep xrdp
</span></span></code></pre></div><p>Example of successful installation:</p>
<p><img src="/img/rhel9_xrdp_1.jpg" alt="xrdp image" title="xrpd image"></p>
<p>If you have firewalld running, open the RDP port on RHEL, note on the EC2 instance we did this on, firewalld was not even installed because there is also an Amazon firewall.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo firewall-cmd –permanent –add-port<span style="color:#f92672">=</span>3389/tcp
</span></span><span style="display:flex;"><span>sudo firewall-cmd –reload
</span></span></code></pre></div><p>If you decide you want to completely shutdown firewalld here are the commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl stop firewalld.service
</span></span><span style="display:flex;"><span>sudo systemctl disable firewalld.service
</span></span></code></pre></div><p>Assign a regular password to the user for RDP</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo passwd ec2-user
</span></span></code></pre></div><p>Example on how to change the password:</p>
<p><img src="/img/rhel9_xrdp_2.jpg" alt="xrdp image" title="xrpd image"></p>
<p>On Amazon EC2, modify the security group to allow RDP Traffic, you should be as restrictive as possible on which Internet Protocal (IP) Addresses are allowed to access your RDP Port.</p>
<p><img src="/img/rhel9_xrdp_3.jpg" alt="xrdp image" title="xrpd image"></p>
<p>Connect to your RHEL 9 server using Amazon&rsquo;s external IP Address and the account you setup the password</p>
<p><img src="/img/rhel9_xrdp_4.jpg" alt="xrdp image" title="xrpd image"></p>
<p>The first time connecting will prompt you for the password</p>
<p><img src="/img/rhel9_xrdp_5.jpg" alt="xrdp image" title="xrpd image"></p>
<p>Successful RDP Session to RHEL 9!
<img src="/img/rhel9_xrdp_6.jpg" alt="xrdp image" title="xrpd image"></p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/xrdp/" rel="tag">XRDP</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/rhel-9/" rel="tag">RHEL 9</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/gnome/" rel="tag">GNOME</a>
		</li>
	</ul>
</div>

		</footer>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Nathan Obert avatar" src="/img/nathan.jpg" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About Nathan Obert</span>
	</div>
</div>

<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/blog-python-http-server/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python HTTP Server</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cheatsheet-git/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Git Cheatsheet</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 Nathan Obert.

		</div>
	</div>
</footer>

	</div>
<script async defer src="/js/menu.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>